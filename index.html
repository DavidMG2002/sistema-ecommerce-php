<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-commerce</title>

    <!-- AOS css -->
    <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet">

    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        crossorigin="anonymous" referrerpolicy="no-referrer"/>

    <!-- css -->
    <link rel="stylesheet" href="css/style.css">

    <!-- Swiper css -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

    <!-- Font and Tailwind -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@350;600&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        poppins: ['Poppins', 'sans-serif'],
                    },
                },
            },
        }
    </script>
</head>

<body class="flex flex-col min-h-screen font-poppins bg-white">

    <!-- Header -->
    <header id="header" class="bg-white shadow-sm">
        <!-- El header se carga dinámicamente desde html/header.html -->
    </header>

    <!-- Main -->
    <main>

        <!-- Hero section -->
        <section class="relative w-full h-[90vh] overflow-hidden">
            <div class="swiper heroSwiper w-full h-full">
                <div class="swiper-wrapper">
                    <!-- Slide 1 -->
                    <div class="swiper-slide">
                        <img src="src/imagenes/hero_test/Image4.avif" class="object-cover w-full h-full" alt="Hero 1" />
                    </div>

                    <!-- Slide 2 -->
                    <div class="swiper-slide">
                        <img src="src/imagenes/hero_test/Image5.jpg" class="object-cover w-full h-full" alt="Hero 2" />
                    </div>

                    <!-- Slide 3 -->
                    <div class="swiper-slide">
                        <img src="src/imagenes/hero_test/Image6.avif" class="object-cover w-full h-full" alt="Hero 3" />
                    </div>
                </div>
                <!-- Pagination points -->
                <div class="swiper-pagination !bottom-5"></div>
            </div>
        </section>

        <!-- Categorías -->
        <section class="bg-black flex items-center justify-center px-6 py-16">
            <div class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-8 sm:gap-10">

                <!-- Card 1 -->
                <article class="relative rounded-[22px] p-[2px] bg-white shadow-[0_0_30px_3px_rgba(255,255,255,0.3)]">
                    <div class="rounded-[20px] bg-black text-white p-6 flex flex-col items-center">
                        <a href="html/hoodies_sacos.html">
                            <img src="src/imagenes/png/Image6.png" alt="Categoría 1" class="object-contain w-32 h-32 sm:w-36 sm:h-36 mb-4 transition-transform duration-500 hover:scale-110" />
                        </a>
                        <a href="html/hoodies_sacos.html">
                            <p class="text-lg sm:text-xl font-semibold hover:scale-110 transition-transform duration-300">Computadores</p>
                        </a>
                    </div>
                </article>

                <!-- Card 2 -->
                <article class="relative rounded-[22px] p-[2px] bg-white shadow-[0_0_30px_3px_rgba(255,255,255,0.3)]">
                    <div class="rounded-[20px] bg-black text-white p-6 flex flex-col items-center">
                        <a href="html/basicos.html">
                            <img src="src/imagenes/png/ESCRITORIO.jpeg" alt="Categoría 2" class="object-contain w-32 h-32 sm:w-36 sm:h-36 mb-4 transition-transform duration-500 hover:scale-110" />
                        </a>
                        <a href="html/basicos.html">
                            <p class="text-lg sm:text-xl font-semibold hover:scale-110 transition-transform duration-300">Escritorios</p>
                        </a>
                    </div>
                </article>

                <!-- Card 3 -->
                <article class="relative rounded-[22px] p-[2px] bg-white shadow-[0_0_30px_3px_rgba(255,255,255,0.3)]">
                    <div class="rounded-[20px] bg-black text-white p-6 flex flex-col items-center">
                        <a href="html/inferiores.html">
                            <img src="src/imagenes/png/Image8.png" alt="Categoría 3" class="object-contain w-32 h-32 sm:w-36 sm:h-36 mb-4 transition-transform duration-500 hover:scale-110" />
                        </a>
                        <a href="html/inferiores.html">
                            <p class="text-lg sm:text-xl font-semibold hover:scale-110 transition-transform duration-300">Audífonos</p>
                        </a>
                    </div>
                </article>

                <!-- Card 4 -->
                <article class="relative rounded-[22px] p-[2px] bg-white shadow-[0_0_30px_3px_rgba(255,255,255,0.3)]">
                    <div class="rounded-[20px] bg-black text-white p-6 flex flex-col items-center">
                        <a href="html/accesorios.html">
                            <img src="src/imagenes/png/Image9.png" alt="Categoría 4" class="object-contain w-32 h-32 sm:w-36 sm:h-36 mb-4 transition-transform duration-500 hover:scale-110" />
                        </a>
                        <a href="html/accesorios.html">
                            <p class="text-lg sm:text-xl font-semibold hover:scale-110 transition-transform duration-300">Productividad</p>
                        </a>
                    </div>
                </article>

            </div>
        </section>

        <!-- Divisor -->
        <section class="bg-white flex sm:flex md:flex items-center justify-between py-8">
            <h2 class="font-bold text-3xl text-center text-black ml-2">Favoritos del público</h2>
            <div>
                <button class="text-white border border-black bg-black px-5 py-2 rounded-[22px] hover:bg-gray-600 border-gray-600 hover:text-white transition mr-2">Ver todo</button>
            </div>
        </section>

        <!-- Productos nuevos -->
        <section class="bg-white flex items-center justify-center py-8 overflow-hidden group">
            <div class="relative w-full">

                <div class="flex animate-infinite-scroll space-x-10 sm:space-x-8 md:space-x-16 group-hover:[animation-play-state:paused]">
                    <!-- Grupo 1 -->
                    <!-- Tarjeta 1 -->
                    <div class="relative p-[2px] w-[350px] h-[600px] flex-shrink-0 sm:w-[280px] sm:h-[480px] md:w-[350px] md:h-[600px]">
                        <div class="bg-gray-50 h-full w-full flex flex-col justify-between items-center relative overflow-hidden">
                            <span class="absolute top-0 left-0 bg-black text-white text-sm font-semibold px-3 py-1 z-20">New in</span>
                            <button class="absolute top-0 right-0 text-black hover:text-black transition z-20">
                                <i class="fa-solid fa-cart-shopping"></i>
                            </button>
                            <div class="flex-grow flex items-center justify-center">
                                <img src="src/imagenes/png/CAB-UE3-1236_grande.webp" alt="Producto" class="object-contain w-auto h-[525px]" >
                            </div>
                            <div class="text-center mb-6">
                                <p class="text-black text-lg font-semibold">Producto</p>
                                <p class="text-black text-md">$20.00</p>
                            </div>
                        </div>
                    </div>

                    <!-- Tarjeta 2 -->
                    <div class="relative p-[2px] w-[350px] h-[600px] flex-shrink-0 sm:w-[280px] sm:h-[480px] md:w-[350px] md:h-[600px]">
                        <div class="bg-gray-50 h-full w-full flex flex-col justify-between items-center relative overflow-hidden">
                            <span class="absolute top-0 left-0 bg-black text-white text-sm font-semibold px-3 py-1 z-20">New in</span>
                            <button class="absolute top-0 right-0 text-black hover:text-black transition z-20">
                                <i class="fa-solid fa-cart-shopping"></i>
                            </button>
                            <div class="flex-grow flex items-center justify-center">
                                <img src="src/imagenes/png/CAB-UE3-1236_grande.webp" alt="Producto" class="object-contain w-auto h-[525px]" >
                            </div>
                            <div class="text-center mb-6">
                                <p class="text-black text-lg font-semibold">Producto</p>
                                <p class="text-black text-md">$20.00</p>
                            </div>
                        </div>
                    </div>

                    <!-- Tarjeta 3 -->
                    <div class="relative p-[2px] w-[350px] h-[600px] flex-shrink-0 sm:w-[280px] sm:h-[480px] md:w-[350px] md:h-[600px]">
                        <div class="bg-gray-50 h-full w-full flex flex-col justify-between items-center relative overflow-hidden">
                            <span class="absolute top-0 left-0 bg-black text-white text-sm font-semibold px-3 py-1 z-20">New in</span>
                            <button class="absolute top-0 right-0 text-black hover:text-black transition z-20">
                                <i class="fa-solid fa-cart-shopping"></i>
                            </button>
                            <div class="flex-grow flex items-center justify-center">
                                <img src="src/imagenes/png/CAB-UE3-1236_grande.webp" alt="Producto" class="object-contain w-auto h-[525px]" >
                            </div>
                            <div class="text-center mb-6">
                                <p class="text-black text-lg font-semibold">Producto</p>
                                <p class="text-black text-md">$20.00</p>
                            </div>
                        </div>
                    </div>

                    <!-- Tarjeta 4 -->
                    <div class="relative p-[2px] w-[350px] h-[600px] flex-shrink-0 sm:w-[280px] sm:h-[480px] md:w-[350px] md:h-[600px]">
                        <div class="bg-gray-50 h-full w-full flex flex-col justify-between items-center relative overflow-hidden">
                            <span class="absolute top-0 left-0 bg-black text-white text-sm font-semibold px-3 py-1 z-20">New in</span>
                            <button class="absolute top-0 right-0 text-black hover:text-black transition z-20">
                                <i class="fa-solid fa-cart-shopping"></i>
                            </button>
                            <div class="flex-grow flex items-center justify-center">
                                <img src="src/imagenes/png/CAB-UE3-1236_grande.webp" alt="Producto" class="object-contain w-auto h-[525px]" >
                            </div>
                            <div class="text-center mb-6">
                                <p class="text-black text-lg font-semibold">Producto</p>
                                <p class="text-black text-md">$20.00</p>
                            </div>
                        </div>
                    </div>

                    <!-- Tarjeta 5 -->
                    <div class="relative p-[2px] w-[350px] h-[600px] flex-shrink-0 sm:w-[280px] sm:h-[480px] md:w-[350px] md:h-[600px]">
                        <div class="bg-gray-50 h-full w-full flex flex-col justify-between items-center relative overflow-hidden">
                            <span class="absolute top-0 left-0 bg-black text-white text-sm font-semibold px-3 py-1 z-20">New in</span>
                            <button class="absolute top-0 right-0 text-black hover:text-black transition z-20">
                                <i class="fa-solid fa-cart-shopping"></i>
                            </button>
                            <div class="flex-grow flex items-center justify-center">
                                <img src="src/imagenes/png/CAB-UE3-1236_grande.webp" alt="Producto" class="object-contain w-auto h-[525px]" >
                            </div>
                            <div class="text-center mb-6">
                                <p class="text-black text-lg font-semibold">Producto</p>
                                <p class="text-black text-md">$20.00</p>
                            </div>
                        </div>
                    </div>

                    <!-- Grupo 2 (duplicado para animación fluida) -->
                    <div class="relative p-[2px] w-[350px] h-[600px] flex-shrink-0 sm:w-[280px] sm:h-[480px] md:w-[350px] md:h-[600px]">
                        <div class="bg-gray-50 h-full w-full flex flex-col justify-between items-center relative overflow-hidden">
                            <span class="absolute top-0 left-0 bg-black text-white text-sm font-semibold px-3 py-1 z-20">New in</span>
                            <button class="absolute top-0 right-0 text-black hover:text-black transition z-20">
                                <i class="fa-solid fa-cart-shopping"></i>
                            </button>
                            <div class="flex-grow flex items-center justify-center">
                                <img src="src/imagenes/png/CAB-UE3-1236_grande.webp" alt="Producto" class="object-contain w-auto h-[525px]" >
                            </div>
                            <div class="text-center mb-6">
                                <p class="text-black text-lg font-semibold">Producto</p>
                                <p class="text-black text-md">$20.00</p>
                            </div>
                        </div>
                    </div>

                    <div class="relative p-[2px] w-[350px] h-[600px] flex-shrink-0 sm:w-[280px] sm:h-[480px] md:w-[350px] md:h-[600px]">
                        <div class="bg-gray-50 h-full w-full flex flex-col justify-between items-center relative overflow-hidden">
                            <span class="absolute top-0 left-0 bg-black text-white text-sm font-semibold px-3 py-1 z-20">New in</span>
                            <button class="absolute top-0 right-0 text-black hover:text-black transition z-20">
                                <i class="fa-solid fa-cart-shopping"></i>
                            </button>
                            <div class="flex-grow flex items-center justify-center">
                                <img src="src/imagenes/png/CAB-UE3-1236_grande.webp" alt="Producto" class="object-contain w-auto h-[525px]" >
                            </div>
                            <div class="text-center mb-6">
                                <p class="text-black text-lg font-semibold">Producto</p>
                                <p class="text-black text-md">$20.00</p>
                            </div>
                        </div>
                    </div>

                    <div class="relative p-[2px] w-[350px] h-[600px] flex-shrink-0 sm:w-[280px] sm:h-[480px] md:w-[350px] md:h-[600px]">
                        <div class="bg-gray-50 h-full w-full flex flex-col justify-between items-center relative overflow-hidden">
                            <span class="absolute top-0 left-0 bg-black text-white text-sm font-semibold px-3 py-1 z-20">New in</span>
                            <button class="absolute top-0 right-0 text-black hover:text-black transition z-20">
                                <i class="fa-solid fa-cart-shopping"></i>
                            </button>
                            <div class="flex-grow flex items-center justify-center">
                                <img src="src/imagenes/png/CAB-UE3-1236_grande.webp" alt="Producto" class="object-contain w-auto h-[525px]" >
                            </div>
                            <div class="text-center mb-6">
                                <p class="text-black text-lg font-semibold">Producto</p>
                                <p class="text-black text-md">$20.00</p>
                            </div>
                        </div>
                    </div>

                    <div class="relative p-[2px] w-[350px] h-[600px] flex-shrink-0 sm:w-[280px] sm:h-[480px] md:w-[350px] md:h-[600px]">
                        <div class="bg-gray-50 h-full w-full flex flex-col justify-between items-center relative overflow-hidden">
                            <span class="absolute top-0 left-0 bg-black text-white text-sm font-semibold px-3 py-1 z-20">New in</span>
                            <button class="absolute top-0 right-0 text-black hover:text-black transition z-20">
                                <i class="fa-solid fa-cart-shopping"></i>
                            </button>
                            <div class="flex-grow flex items-center justify-center">
                                <img src="src/imagenes/png/CAB-UE3-1236_grande.webp" alt="Producto" class="object-contain w-auto h-[525px]" >
                            </div>
                            <div class="text-center mb-6">
                                <p class="text-black text-lg font-semibold">Producto</p>
                                <p class="text-black text-md">$20.00</p>
                            </div>
                        </div>
                    </div>

                    <div class="relative p-[2px] w-[350px] h-[600px] flex-shrink-0 sm:w-[280px] sm:h-[480px] md:w-[350px] md:h-[600px]">
                        <div class="bg-gray-50 h-full w-full flex flex-col justify-between items-center relative overflow-hidden">
                            <span class="absolute top-0 left-0 bg-black text-white text-sm font-semibold px-3 py-1 z-20">New in</span>
                            <button class="absolute top-0 right-0 text-black hover:text-black transition z-20">
                                <i class="fa-solid fa-cart-shopping"></i>
                            </button>
                            <div class="flex-grow flex items-center justify-center">
                                <img src="src/imagenes/png/CAB-UE3-1236_grande.webp" alt="Producto" class="object-contain w-auto h-[525px]" >
                            </div>
                            <div class="text-center mb-6">
                                <p class="text-black text-lg font-semibold">Producto</p>
                                <p class="text-black text-md">$20.00</p>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>

        <!-- Divisor -->
        <section class="text-center bg-white">
            <h3 class="text-black text-sm sm:text-base md:text-lg lg:text-xl mt-16">Categorias.</h3>
        </section>

        <section class="py-6 text-center bg-white">
            <h3 class="text-black text-4xl sm:text-4xl md:text-6xl lg:text-7xl py-4 max-w-3xl mx-auto leading-tight -mt-8">
                Innova, más producción,<br class="block sm:hidden"> y comodidad.</br>
            </h3>
        </section>

        <!-- Sección deportiva -->
        <section class="bg-white flex flex-col md:flex-row items-stretch justify-center flex-wrap">
            <!-- Imagen izquierda -->
            <article class="w-full md:w-1/2 relative bg-gray-50" data-aos="fade-right">
                <img src="src/imagenes/jpg/Image1.jpg" class="w-full h-[300px] sm:h-[450px] md:h-[636px] object-cover" alt="Imagen 1">
                <p class="absolute bottom-20 left-4 sm:left-6 text-white text-sm sm:text-base bg-black/60 rounded-[18px] px-3 py-1 max-w-[90%] sm:max-w-[500px]">
                    Categoría de home office.
                </p>
                <button class="absolute bottom-6 left-4 sm:left-6 bg-black text-white px-5 sm:px-6 py-2 rounded-[22px] hover:bg-gray-500 transition text-sm sm:text-base">
                    Descubrir
                </button>
            </article>

            <!-- Imagen derecha -->
            <article class="w-full md:w-1/2 relative bg-gray-50" data-aos="fade-down">
                <img src="src/imagenes/jpg/Image2.jpg" class="w-full h-[300px] sm:h-[450px] md:h-[636px] object-cover" alt="Imagen 2">
                <p class="absolute bottom-20 left-4 sm:left-6 text-white text-sm sm:text-base bg-black/60 rounded-[18px] px-3 py-1 max-w-[90%] sm:max-w-[500px]">
                    Categoría innovación.
                </p>
                <button class="absolute bottom-6 left-4 sm:left-6 bg-black text-white px-5 sm:px-6 py-2 rounded-[22px] hover:bg-gray-500 transition text-sm sm:text-base">
                    Descubrir
                </button>
            </article>
        </section>

        <!-- Icono de WhatsApp -->
        <div id="waicon"></div>

    </main>

    <!-- Footer -->
    <footer id="footer"></footer>

    <!-- AOS JS -->
    <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>

    <!-- Script de include PRIMERO -->
    <script src="javascript/include.js"></script>
    
    <!-- Otros scripts -->
    <script src="javascript/index.js" defer></script>

    <script>
        // Inicializar AOS cuando todo esté cargado
        window.addEventListener('load', () => {
            if (typeof AOS !== 'undefined') {
                AOS.init();
            }
        });
    </script>

    <!-- Script de autenticación -->
    <script>
        // Función para cerrar sesión (global para que el botón en header pueda usarla)
        function logout() {
            fetch('php/auth.php', {
                method: 'POST',
                body: new URLSearchParams({
                    action: 'logout'
                })
            })
            .then(() => {
                window.location.href = 'index.html?t=' + new Date().getTime();
            })
            .catch(error => {
                console.error('Error al cerrar sesión:', error);
                window.location.href = 'index.html';
            });
        }

        // Verificar si hay usuario logueado
        async function checkUser() {
            try {
                const res = await fetch('php/check_session.php');
                const data = await res.json();
                
                // Esperar a que el header se haya cargado
                const waitForElements = setInterval(() => {
                    const userSection = document.getElementById('userSection');
                    const loginButton = document.getElementById('loginButton');
                    const userName = document.getElementById('userName');
                    
                    if (userSection && loginButton) {
                        clearInterval(waitForElements);
                        
                        if (data.loggedIn && userName) {
                            // Mostrar info del usuario
                            userSection.classList.remove('hidden');
                            userSection.classList.add('flex');
                            loginButton.classList.add('hidden');
                            userName.textContent = data.user.nombre;
                            console.log('✓ Usuario logueado:', data.user.nombre);
                        } else {
                            // Mostrar botón de login
                            userSection.classList.add('hidden');
                            userSection.classList.remove('flex');
                            loginButton.classList.remove('hidden');
                        }
                    }
                }, 100);
                
                // Timeout de seguridad (10 segundos)
                setTimeout(() => clearInterval(waitForElements), 10000);
                
            } catch (error) {
                console.log('No hay sesión activa o error al verificar');
            }
        }

        // Verificar usuario cuando el DOM esté listo
        // Y también cuando se carguen los componentes
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(checkUser, 500); // Dar tiempo a que cargue el header
        });
    </script>

</body>

</html>